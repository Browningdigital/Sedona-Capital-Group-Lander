import{d as j,G as q,c as d,a as o,b as l,f as n,l as p,n as v,i as c,e as h,F as M,k as U,h as $,q as D,s as R,j as Y}from"./entry.6461312a.js";import{u as X,aM as y,n as J,d as K}from"./constants.3d72766c.js";import{E as g,c as Q,d as W,e as b,S as Z}from"./index.c115f477.js";import{g as ee}from"./ecommerce_helper.6973cbc3.js";import{u as te}from"./unionBy.866bc787.js";import"./HLConst.414de9c2.js";import"./HLImage.vue.218ef368.js";import"./useRedirectAction.8ca85182.js";import"./client-only.20fe0b11.js";import"./components.91fa7984.js";import"./HtmlPreview.vue.4b8d3bbf.js";import"./utils.3cfab6c7.js";import"./index.17867618.js";import"./FunnelServices.0f6cc035.js";import"./am_helper.c9fdce4f.js";import"./currency_helper.ed08bd45.js";import"./last.a941d252.js";import"./keys.2bc856f6.js";import"./isObject.32699ff3.js";import"./_Uint8Array.b464729d.js";const ne=D(()=>R(()=>import("./NavMenuSearchbar.6b886636.js"),["./NavMenuSearchbar.b4bec3e4.css"],import.meta.url).then(t=>t.default||t)),oe=D(()=>R(()=>import("./StoreNavCartElement.f5f06ee7.js"),["./StoreNavCartElement.aa948ce9.css"],import.meta.url).then(t=>t.default||t)),se={key:0,class:"branding"},le={key:0,class:"logo"},ae={key:1,class:"title"},re={class:"cart-nav-wrapper"},ie={class:"nav-menu-mobile"},ce={class:"nav-menu"},ue={key:0,class:"dropdown-menu"},Pe=j({__name:"NavMenu",props:{element:{type:Object,required:!0}},async setup(t){var N,x,I;let _,E;const s=t,u=X(),{$bus:V}=Y(),z=`${s.element.id}-logo`,B=`${s.element.id}-heading`,f=e=>e==null?void 0:e.reduce((m,r)=>(r.childs.length&&m.push(...f(r.childs)),r.goTo===Z.GO_TO_PRODUCT_COLLECTION&&r.goToCollection&&m.push(r.goToCollection),m),[]),w=f((I=(x=(N=s.element)==null?void 0:N.extra)==null?void 0:x.menuItems)==null?void 0:I.value);if(y(u.value.funnelSteps)&&w.length>0){const{data:e}=([_,E]=q(async()=>J(`product-collection-${s.element.id}`,async()=>await ee(w))),_=await _,E(),_);e.value&&(u.value.productCollections=te(e.value??[],u.value.productCollections,"_id"))}const C=d(()=>K(s.element)),S=d(()=>{const{extra:e}=s.element;return e[g.INCLUDE_LOGO_IN_MENU].value}),L=d(()=>{const{extra:e}=s.element;return e[g.INCLUDE_HEADLINE_IN_MENU].value}),H=d(()=>{const{extra:e}=s.element;return e[g.MENU_LAYOUT].value}),F=d(()=>{const{extra:e}=s.element;return e[g.MENU_ITEMS].value});function G(){V.$emit("show-nav-menu-popup",s.element.id)}return(e,a)=>{var O,T,k,P;const m=ne,r=oe;return o(),l("div",{class:v([[n(H)],"nav-menu-wrapper"])},[n(S)||n(L)?(o(),l("div",se,[n(S)?(o(),l("div",le,[p(Q,{id:z,class:v([n(C)]),element:t.element},null,8,["class","element"])])):c("",!0),n(L)?(o(),l("div",ae,[p(W,{class:v([n(C)]),id:B,content:t.element.extra.text},null,8,["class","content"])])):c("",!0)])):c("",!0),h("div",re,[h("div",ie,[h("span",{onClick:a[0]||(a[0]=i=>G()),class:"menu-icon"})]),h("ul",ce,[(o(!0),l(M,null,U(n(F),i=>(o(),l("li",{key:i.id,class:v(["nav-menu-item",i.childs.length?"dropdown":""])},[p(b,{item:i},null,8,["item"]),i.childs&&i.childs.length?(o(),l("ul",ue,[(o(!0),l(M,null,U(i.childs,A=>(o(),l("li",{key:A.id,class:"dropdown-item"},[p(b,{item:A},null,8,["item"])]))),128))])):c("",!0)],2))),128))]),(T=(O=t.element.extra)==null?void 0:O.showSearchbar)!=null&&T.value&&n(y)(n(u).funnelSteps)?(o(),$(m,{key:0,element:t.element},null,8,["element"])):c("",!0),n(y)(n(u).funnelSteps)&&(((P=(k=t.element.extra)==null?void 0:k.showCartIcon)==null?void 0:P.value)??!0)?(o(),$(r,{key:1,element:t.element},null,8,["element"])):c("",!0)])],2)}}});export{Pe as default};
